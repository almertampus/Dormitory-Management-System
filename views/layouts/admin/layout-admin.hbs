{{#extend "main"}}
{{#content "main"}}
<main class="main main--admin">
    <!-- Sidebar -->
    <nav class="sidebar navbar navbar-expand-md">
        <div class="wrapper d-flex w-100">
            <div class="sidebar__header">
                <a class="sidebar__title" href="/">
                    <span>Property</span>
                    <span>Management</span>
                    <span>System</span>
                </a>
            </div>
            <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse"
                data-target="#sidebar__collapsible-navigation" aria-controls="sidebar__collapsible-navigation"
                aria-expanded="false" aria-label="Toggle navigation">
                <svg class="svg svg__toggler svg--white" xmlns="http://www.w3.org/2000/svg"
                    enable-background="new 0 0 24 24" viewBox="0 0 24 24">
                    <rect fill="none" height="24" width="24" />
                    <path d="M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z" />
                </svg>
            </button>
        </div>
        <div class="collapse navbar-collapse" id="sidebar__collapsible-navigation">
            <div class="navbar-nav">
                <div class="nav-item">
                    <a class="nav-link" href="/">
                        <svg class="svg svg--white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20px"
                            height="20px">
                            <path d="M0 0h24v24H0V0z" fill="none" />
                            <path
                                d="M19 5v2h-4V5h4M9 5v6H5V5h4m10 8v6h-4v-6h4M9 17v2H5v-2h4M21 3h-8v6h8V3zM11 3H3v10h8V3zm10 8h-8v10h8V11zm-10 4H3v6h8v-6z" />
                        </svg>
                        Dashboard
                    </a>
                </div>
                {{#if properties}}
                <div class="nav-item">
                    <a class="nav-link" data-toggle="collapse" href="#collapseProperty" role="button"
                        aria-expanded="false" aria-controls="collapseProperty">
                        <svg class="svg svg--white" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24"
                            viewBox="0 0 24 24">
                            <g>
                                <rect fill="none" height="24" width="24" />
                            </g>
                            <g>
                                <path
                                    d="M17,11V3H7v4H3v14h8v-4h2v4h8V11H17z M7,19H5v-2h2V19z M7,15H5v-2h2V15z M7,11H5V9h2V11z M11,15H9v-2h2V15z M11,11H9V9h2 V11z M11,7H9V5h2V7z M15,15h-2v-2h2V15z M15,11h-2V9h2V11z M15,7h-2V5h2V7z M19,19h-2v-2h2V19z M19,15h-2v-2h2V15z" />
                            </g>
                        </svg>
                        Property
                    </a>
                    <div class="collapse" id="collapseProperty">
                        <div class="card card-body z-depth-0">
                            <a class="nav-link" href="/management/property">
                                <svg class="svg svg--dark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                    <path d="M0 0h24v24H0V0z" fill="none" />
                                    <path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z" />
                                </svg>
                                View all
                            </a>
                            {{#if properties}}
                            {{#each properties}}
                            <a class="nav-link" href="/property/{{_id}}">
                                <svg class="svg svg--dark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                    <path d="M0 0h24v24H0V0z" fill="none" />
                                    <path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z" />
                                </svg>
                                {{name}}
                            </a>
                            {{/each}}
                            {{/if}}
                        </div>
                    </div>
                </div>
                {{else}}
                <div class="nav-item">
                    <a class="nav-link" href="/management/property">
                        <svg class="svg svg--white" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24"
                            viewBox="0 0 24 24">
                            <g>
                                <rect fill="none" height="24" width="24" />
                            </g>
                            <g>
                                <path
                                    d="M17,11V3H7v4H3v14h8v-4h2v4h8V11H17z M7,19H5v-2h2V19z M7,15H5v-2h2V15z M7,11H5V9h2V11z M11,15H9v-2h2V15z M11,11H9V9h2 V11z M11,7H9V5h2V7z M15,15h-2v-2h2V15z M15,11h-2V9h2V11z M15,7h-2V5h2V7z M19,19h-2v-2h2V19z M19,15h-2v-2h2V15z" />
                            </g>
                        </svg>
                        Property
                    </a>
                </div>
                {{/if}}
            </div>
        </div>
    </nav>
    <!-- Content -->
    <section class="main__content d-flex flex-column">
        <!--Topbar -->
        <nav class="topbar navbar navbar-expand-md">
            <div class="topbar__header d-flex align-items-center">
                <span class="topbar__title">{{header}}</span>
            </div>
            <div class="btn-group">
                <div class="user" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <span class="user__username">{{user.username}}</span>
                    <div class="user__avatar" {{#if user.avatar}}
                        style="background-image: url('data:image/png;base64,{{user.avatar.data}}');" {{/if}}>
                    </div>
                </div>
                <div class="dropdown-menu dropdown-menu-right">
                    <div class="navbar-nav">
                        <div class="nav-item">
                            <a class="nav-link" href="/account/profile">
                                <svg class="svg svg--white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                    <path d="M0 0h24v24H0V0z" fill="none" />
                                    <path
                                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.51.88 4.93 1.78C15.57 19.36 13.86 20 12 20s-3.57-.64-4.93-1.72zm11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33C4.62 15.49 4 13.82 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.49-1.64 4.83zM12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z" />
                                </svg>
                                Edit profile
                            </a>
                        </div>
                        <div class="nav-item">
                            <a class="nav-link" href="/account/security">
                                <svg class="svg svg--white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                    <g fill="none">
                                        <path d="M0 0h24v24H0V0z" />
                                        <path d="M0 0h24v24H0V0z" opacity=".87" />
                                    </g>
                                    <path
                                        d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z" />
                                </svg>
                                Change password
                            </a>
                        </div>
                        <div class="nav-item">
                            <form class="form form--user-logout" action="/api/user/logout" method="POST">
                                <button class="form__submit nav-link btn z-depth-0">
                                    <svg class="svg svg--white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                        <path d="M0 0h24v24H0z" fill="none" />
                                        <path
                                            d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" />
                                    </svg>
                                    Logout
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        {{#block "content"}}
        {{/block}}
        <!-- Footer -->
        <footer class="footer p-4 bg-dark text-white">
            <div class="d-flex justify-content-between align-items-center" style="line-height: 1rem;">
                <div class="d-flex align-items-start" id="copyright-container">
                    <span style="font-size: 12px;">&copy; 2020 <span class="font-weight-bold">PROPERTY MANAGEMENT SYSTEM
                            BY ALMER TAMPUS</span></span>
                </div>
                <div class="d-flex justify-content-center align-items-center elegant-color rounded"
                    id="powered-container" style="line-height: .75rem;">
                    <div class="p-2 border-right border-dark">
                        <svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                            viewBox="0 0 508.928 508.928" style="enable-background:new 0 0 508.928 508.928;"
                            xml:space="preserve" width="22px" height="22px">
                            <polygon style="fill:#FFD83B;"
                                points="403.712,201.04 256.288,201.04 329.792,0 105.216,307.888 252.64,307.888 179.136,508.928" />
                        </svg>
                    </div>
                    <div class="d-flex align-items-start mr-2 p-2 font-weight-normal">
                        <span style="margin-right: 5px; font-size: 12px;">Powered</span>
                        <span style="margin-right: 5px; font-size: 12px;">by</span>
                        <span style="font-size: 12px; font-weight: bold;">ALMER TAMPUS</span>
                        </span>
                    </div>
                </div>
            </div>
        </footer>
    </section>
</main>

{{/content}}
{{/extend}}